# Factory Pattern Library

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥" —Å –ø–∞—Ä—Å–µ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (JSON, XML, CSV).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd factory-pattern

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
composer install
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```php
<?php

require_once 'vendor/autoload.php';

use Tokimikichika\FactoryPattern\Factory\ParserFactory;

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
$parser = ParserFactory::create('json');

// –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
$data = '{"name":"John","age":30}';
$result = $parser->parse($data);

print_r($result);
// Array
// (
//     [name] => John
//     [age] => 30
// )
```

### ParserFactory

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤.

#### –ú–µ—Ç–æ–¥—ã

```php
// –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –ø–æ —Ç–∏–ø—É
ParserFactory::create(string $type): ParserInterface

// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤
ParserFactory::getSupportedTypes(): array

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–∏–ø–∞
ParserFactory::isSupported(string $type): bool
```

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

- `json` - JSON –ø–∞—Ä—Å–µ—Ä
- `xml` - XML –ø–∞—Ä—Å–µ—Ä  
- `csv` - CSV –ø–∞—Ä—Å–µ—Ä

### ParserInterface

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤.

```php
interface ParserInterface
{
    public function parse(string $input): array;
}
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JSON –ø–∞—Ä—Å–∏–Ω–≥

```php
use Tokimikichika\FactoryPattern\Factory\ParserFactory;

$parser = ParserFactory::create('json');

// –ü—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç
$data = '{"name":"Alice","age":25}';
$result = $parser->parse($data);

// –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
$data = '[{"id":1,"name":"John"},{"id":2,"name":"Jane"}]';
$result = $parser->parse($data);
```

### XML –ø–∞—Ä—Å–∏–Ω–≥

```php
$parser = ParserFactory::create('xml');

// –ü—Ä–æ—Å—Ç–æ–π XML
$data = '<user><name>Bob</name><age>30</age></user>';
$result = $parser->parse($data);

// XML —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
$data = '<user id="1"><name>Charlie</name></user>';
$result = $parser->parse($data);
```

### CSV –ø–∞—Ä—Å–∏–Ω–≥

```php
$parser = ParserFactory::create('csv');

// –ü—Ä–æ—Å—Ç–æ–π CSV
$data = "name,age,city\nJohn,30,New York\nJane,25,London";
$result = $parser->parse($data);

// CSV —Å –∫–∞–≤—ã—á–∫–∞–º–∏
$data = 'name,description\nJohn,"A person with, comma"';
$result = $parser->parse($data);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤

```php
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã
$types = ParserFactory::getSupportedTypes();
// ['json', 'xml', 'csv']

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞
if (ParserFactory::isSupported('yaml')) {
    $parser = ParserFactory::create('yaml');
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
composer test

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
composer test-coverage

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
./vendor/bin/phpunit tests/Parser/JsonParserTest.php

# –ó–∞–ø—É—Å–∫ –≤ verbose —Ä–µ–∂–∏–º–µ
./vendor/bin/phpunit --verbose
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
composer cs-check

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è –∫–æ–¥–∞
composer cs-fix

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
composer cs-sniff

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤
composer cs-sniff-fix

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (—Å—Ç–∏–ª—å + —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã + —Ç–µ—Å—Ç—ã)
composer quality
```


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ Exception/           # –¢–µ—Å—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îú‚îÄ‚îÄ Parser/              # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ Factory/             # –¢–µ—Å—Ç—ã —Ñ–∞–±—Ä–∏–∫–∏
‚îî‚îÄ‚îÄ Integration/         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–∞—Ç—Ç–µ—Ä–Ω "–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥"

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥":

1. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (`ParserInterface`) - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã** (`JsonParser`, `XmlParser`, `CsvParser`) - —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. **–§–∞–±—Ä–∏–∫–∞** (`ParserFactory`) - —Å–æ–∑–¥–∞–µ—Ç –Ω—É–∂–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –ø–æ —Ç–∏–ø—É

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ Exception/           # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ParserException.php
‚îÇ   ‚îú‚îÄ‚îÄ JsonParseException.php
‚îÇ   ‚îú‚îÄ‚îÄ XmlParseException.php
‚îÇ   ‚îú‚îÄ‚îÄ CsvParseException.php
‚îÇ   ‚îî‚îÄ‚îÄ UnsupportedParserTypeException.php
‚îú‚îÄ‚îÄ Interface/           # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ ParserInterface.php
‚îú‚îÄ‚îÄ Parser/              # –ü–∞—Ä—Å–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ JsonParser.php
‚îÇ   ‚îú‚îÄ‚îÄ XmlParser.php
‚îÇ   ‚îî‚îÄ‚îÄ CsvParser.php
‚îî‚îÄ‚îÄ Factory/             # –§–∞–±—Ä–∏–∫–∞
    ‚îî‚îÄ‚îÄ ParserFactory.php
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è** - –≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
- **–õ–µ–≥–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø–∞—Ä—Å–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏
- **–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –ø–∞—Ä—Å–µ—Ä–æ–≤
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ



## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP >= 8.0
- Composer
- PHPUnit ^10.0 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

